---
interface Props {
  products: string[];
  ctaText?: string;
}

const { products, ctaText = "æŸ¥çœ‹æ¨èå·¥å…·" } = Astro.props;

// è”ç›Ÿäº§å“æ•°æ®åº“ï¼ˆåç»­å¯ä»¥ä»é…ç½®æ–‡ä»¶åŠ è½½ï¼‰
const affiliateData: Record<string, {
  name: string;
  description: string;
  affiliateLink: string;
  emoji: string;
  gradient: string;
}> = {
  amazon_seller_tools: {
    name: "Jungle Scout - Amazon å–å®¶å·¥å…·",
    description: "ä¸“ä¸šçš„é€‰å“ã€å…³é”®è¯ã€ç«å“åˆ†æå·¥å…·",
    affiliateLink: "https://www.junglescout.com/?via=affiliate",
    emoji: "ğŸ”",
    gradient: "from-blue-500 to-cyan-500"
  },
  ecommerce_platforms: {
    name: "Shopify - ç”µå•†å»ºç«™å¹³å°",
    description: "å¿«é€Ÿæ­å»ºç‹¬ç«‹ç«™ï¼Œæ— éœ€ç¼–ç¨‹åŸºç¡€",
    affiliateLink: "https://www.shopify.com/?ref=affiliate",
    emoji: "ğŸ›’",
    gradient: "from-green-500 to-emerald-500"
  },
  ai_writing_tools: {
    name: "Jasper AI - AI å†™ä½œåŠ©æ‰‹",
    description: "è‡ªåŠ¨ç”Ÿæˆ Listingã€å¹¿å‘Šæ–‡æ¡ˆ",
    affiliateLink: "https://www.jasper.ai/?via=affiliate",
    emoji: "âœ¨",
    gradient: "from-purple-500 to-pink-500"
  },
  marketing_software: {
    name: "Helium 10 - è¥é”€è½¯ä»¶å¥—è£…",
    description: "Amazon PPCã€SEO ä¼˜åŒ–å·¥å…·",
    affiliateLink: "https://www.helium10.com/?via=affiliate",
    emoji: "ğŸ“Š",
    gradient: "from-orange-500 to-red-500"
  },
  online_courses: {
    name: "Udemy - è·¨å¢ƒç”µå•†è¯¾ç¨‹",
    description: "ç³»ç»Ÿå­¦ä¹  Amazon è¿è¥",
    affiliateLink: "https://www.udemy.com/courses/search/?q=amazon+fba&via=affiliate",
    emoji: "ğŸ“",
    gradient: "from-indigo-500 to-blue-500"
  },
  books: {
    name: "ã€ŠAmazon è¿è¥å®æˆ˜ã€‹",
    description: "ä»0åˆ°1æ­å»ºè·¨å¢ƒç”µå•†ä¸šåŠ¡",
    affiliateLink: "https://www.amazon.com/dp/XXXXX?tag=affiliate",
    emoji: "ğŸ“š",
    gradient: "from-amber-500 to-yellow-500"
  }
};

const recommendations = products
  .filter(id => affiliateData[id])
  .map(id => affiliateData[id]);
---

{recommendations.length > 0 && (
  <div class="my-8 p-6 bg-gray-50 rounded-lg border border-gray-200">
    <h3 class="text-lg font-semibold mb-4 text-gray-900">æ¨èå·¥å…·</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      {recommendations.map(product => (
        <div class="bg-white p-4 rounded border border-gray-200">
          <div class="flex items-start gap-3">
            <div class="text-2xl">{product.emoji}</div>
            <div class="flex-1">
              <h4 class="font-medium text-gray-900 mb-1">{product.name}</h4>
              <p class="text-sm text-gray-600 mb-3">{product.description}</p>
              <a
                href={product.affiliateLink}
                target="_blank"
                rel="noopener noreferrer"
                class="inline-block px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700"
              >
                {ctaText}
              </a>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
)}
