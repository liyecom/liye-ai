# LiYe OS .gitignore
# Privacy-First Open Source Preparation
# Version: 1.0

# ============================================
# 运行产物 (Runtime Artifacts - Contains Client Data)
# ============================================
artifacts/
# 但允许治理文档中的 artifact schema 定义
!docs/governance/**/artifacts/

# ============================================
# 环境与密钥 (Secrets & Environment)
# ============================================
.env
.env.local
.env.*.local
*.local.yaml
*.local.json
secrets/
credentials/

# ============================================
# 数据文件 (Data Files - Contains Client Info)
# ============================================
# DuckDB databases (any depth)
**/data/*.duckdb
**/data/*.duckdb.wal
**/data/*.db

# Data inputs/outputs (any depth)
**/data/inputs/*
!**/data/inputs/.gitkeep
**/data/outputs/
**/data/*.json
**/data/*.csv
**/data/*.xlsx
!**/data/.gitkeep
# Exception: UI/UX Skill knowledge data (public reference)
!Skills/**/ui-ux/data/*.csv

# ============================================
# 报告 (Reports - Contains Client Data)
# ============================================
**/reports/**/*.md
**/reports/**/*.json
**/reports/**/*.xlsx
**/reports/**/*.csv
**/reports/raw_data/*
!**/reports/.gitkeep
!**/reports/markdown/.gitkeep
!**/reports/raw_data/.gitkeep
!**/reports/**/.gitkeep

# ============================================
# 运行时 (Runtime Files)
# ============================================
logs/
*.log
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
*.egg-info/
.installed.cfg
*.egg

# Virtual environments
.venv/
venv/
ENV/
env/
.env.bak/

# ============================================
# IDE 与编辑器 (IDE & Editors)
# ============================================
.idea/
.vscode/
*.swp
*.swo
*~
.project
.pydevproject
.settings/
*.sublime-project
*.sublime-workspace

# ============================================
# macOS 系统文件 (macOS System Files)
# ============================================
.DS_Store
.AppleDouble
.LSOverride
._*
.Spotlight-V100
.Trashes

# ============================================
# Qdrant Vector Database (Runtime Data)
# ============================================
qdrant_storage/

# ============================================
# Jupyter Notebooks (May Contain Client Data)
# ============================================
.ipynb_checkpoints/
*.ipynb
!notebooks/examples/*.ipynb

# ============================================
# Node.js (If Any)
# ============================================
node_modules/
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# ============================================
# 客户特定排除 (Client-Specific Exclusions)
# ============================================
# Timo store specific data
**/Timo*/
**/timo*/
**/TIMO*/
**/timo_*.csv
**/timo_*.xlsx

# Amazon seller data exports
**/ReverseASIN-*.xlsx
**/ReverseASIN-*.json
**/sellersprite_*.xlsx
**/BusinessReport*.csv
**/Campaign_*.csv

# Uploads directory (user-uploaded client data)
**/uploads/
!**/uploads/.gitkeep

# Reports with client data (more specific patterns)
**/reports/**/*.json
**/reports/**/*.xlsx
**/reports/**/*.csv

# Runtime state files
**/.index_state.json
**/.etl_state.json
**/*_state.json

# ============================================
# 临时文件 (Temporary Files)
# ============================================
tmp/
temp/
*.tmp
*.temp
*.bak
*.backup

# ============================================
# 测试覆盖率 (Test Coverage)
# ============================================
htmlcov/
.tox/
.nox/
.coverage
.coverage.*
.cache
nosetests.xml
coverage.xml
*.cover
*.py,cover
.hypothesis/
.pytest_cache/

# === LiYe OS Governance Standards (Added 2025-12-23) ===

# Python virtual environments
venv/
.venv/
env/
ENV/
*.pyc
__pycache__/

# Node.js
node_modules/
npm-debug.log
yarn-error.log

# Environment variables (secrets)
.env
**/.env

# Data files (privacy)
*.csv
*.xlsx
*.xls
# Exception: UI/UX Skill public reference data
!Skills/**/ui-ux/data/*.csv
!Skills/**/ui-ux/data/**/*.csv
*.db
*.sqlite
*.duckdb
data_external/
uploads/

# macOS
.DS_Store
.AppleDouble
.LSOverride
**/.DS_Store

# IDE
.vscode/
.idea/
*.swp
*.swo
*.swn

# Logs
*.log
logs/

# Cache
.cache/
.pytest_cache/

# Compiled context (generated by assembler)
.claude/.compiled/

# Claude Code session artifacts (must not be committed)
.claude/.session/

# Notion sync cache
tools/notion-sync/.cache/
tools/notion-sync/node_modules/

# Backup files
*.bak
*~

# Temporary files
tmp/
temp/
*.tmp

*域名整理*
*chatgpt对话*
*ChatGPT*

# --- Private assets (never in public repos) ---
.Systems_backup*
!*.env.example

# ============================================
# Websites (§4.6 Live vs Example 站点治理)
# ============================================
# Live 站点 = 客户资产，不入库
# Example 站点 = 平台验证，可入库
# ============================================
websites/kuachu/
websites/timomats/
websites/refetone/
websites/foneyimats/
websites/muddymatsfordogs/
websites/zhangxiang/
# websites/example-site/ is explicitly ALLOWED (template)

# ============================================
# Builder Artifacts (Generated by builders/)
# ============================================
tracks/*/dist/

# ============================================
# Golden Test Case Outputs (Generated Evidence)
# ============================================
golden/10-cases/**/output/

# ============================================
# Memory System (Generated Diffs)
# ============================================
memory/diff/
!memory/diff/.gitkeep

# ============================================
# Reasoning Demo Runs (P5-A: Keep only official example)
# ============================================
# Local demo runs should not pollute main branch
# Only the official example (2026-01-29) is committed
docs/reasoning/demo_runs/*
!docs/reasoning/demo_runs/2026-01-29/

# ============================================
# Legacy Symlinks (local only, removed from git tracking v6.3.0)
# ============================================
# These symlinks existed for backward compatibility but caused
# GitHub display issues. Keep locally for convenience, not in repo.
/adapters
/governance
/reports
/schemas
/scripts
/stats
/templates
/traces
.liye/

# ============================================
# Proactive System Runtime State (P1 收口)
# ============================================
# Runtime state: 点火产物，不进 main
state/runtime/proactive/runs/
state/runtime/proactive/facts/
state/runtime/proactive/rate_limits.json
state/runtime/proactive/cost_meter_state.json
state/runtime/learning/
state/runtime/rate_limits/
state/runtime/security_events.jsonl

# Facts: append-only 事实文件，不进 main
state/memory/facts/
!state/memory/facts/.gitkeep
data/facts/*.jsonl
!data/facts/.gitkeep

# Runs: 执行记录，不进 main（AGE 的 runs 也不进）
data/runs/
!data/runs/.gitkeep

# Note: kill_switch.json and pr_evidence/ are included for PR but may be gitignored later

# ============================================
# Learned Policies: 只保留 SAMPLE_* fixtures
# ============================================
# 真实 candidate/production policies 由 bundle 管理
state/memory/learned/policies/candidate/*.yaml
!state/memory/learned/policies/candidate/SAMPLE_*.yaml
!state/memory/learned/policies/candidate/.gitkeep
state/memory/learned/policies/production/*.yaml
!state/memory/learned/policies/production/SAMPLE_*.yaml
!state/memory/learned/policies/production/.gitkeep

# ============================================
# Evidence Packs (打包后的证据，不进 main)
# ============================================
evidence/p1-*.tgz
evidence/*.tgz
# Bundle build outputs
dist/bundles/
