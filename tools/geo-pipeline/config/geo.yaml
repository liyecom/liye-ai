# Geo Pipeline v0.1 Configuration
# 知识引擎配置 - 支持多数据源
version: "0.1.0"

# === 真相源定义 (Truth Sources) ===
# 所有可处理的知识数据源
sources:
  # GEO-SEO 知识库 - T0 Baseline (FROZEN)
  geo_seo:
    tier: T0                   # MANDATORY: Canonical Truth Source
    name: GEO-SEO Knowledge Base
    description: 生成式引擎优化研究资料，包含学术论文、深度解析、工具系列
    path: ~/data/archives/geo_seo
    priority: 1  # 最高优先级
    enabled: true
    source_type: truth_source  # 真相源：已验证、结构化
    baseline: T0               # 冻结为基准
    frozen_date: 2025-12-29
    content_types:
      - academic_paper    # GEO学术论文
      - deep_analysis     # 深度解析文档
      - practical_guide   # 实用指南
      - tool_review       # 工具评测
    estimated_size: 46MB
    units_count: 445

  # 生财有术知识库 - 经验矿山（需精炼）
  shengcai:
    tier: T2                          # MANDATORY: Raw/Exploratory Source
    name: ShengCai Library
    description: 生财有术课程、项目精选、思维课等商业知识
    path: ~/data/archives/shengcai
    priority: 2
    enabled: true
    source_type: raw_experience_mine  # 原始经验矿山：需要精炼
    processing_mode: markdown_only    # 只处理已转换的 markdown
    content_types:
      - course            # 课程内容
      - project_case      # 项目案例
      - methodology       # 方法论
    estimated_size: 500MB+
    markdown_files: 8     # 系统已自动过滤到 8 个精选

  # 行业报告
  industry_reports:
    tier: T2                  # MANDATORY: Raw/Exploratory Source
    name: Industry Reports
    description: 行业分析报告和市场研究
    path: ~/data/archives/industry_reports
    priority: 3
    enabled: false  # 暂不启用，待整理
    content_types:
      - market_report
      - industry_analysis

  # 职业发展报告
  career_reports:
    tier: T2                  # MANDATORY: Raw/Exploratory Source
    name: Career Reports
    description: 职业发展和技能提升资料
    path: ~/data/archives/career_reports
    priority: 4
    enabled: false  # 暂不启用
    content_types:
      - career_guide
      - skill_report

  # 卖家精灵博客文章 - Amazon 运营经验
  sellersprite:
    tier: T2                  # MANDATORY: Raw/Exploratory Source
    name: SellerSprite Blog Articles
    description: 卖家精灵博客抓取的 Amazon 运营文章（选品、广告、竞品分析）
    path: ~/data/archives/sellersprite
    priority: 5
    enabled: true
    source_type: scraped_blog         # 抓取的博客内容
    processing_mode: markdown_only    # 只处理 markdown
    content_types:
      - product_selection    # 选品策略
      - advertising          # 广告投放
      - competitor_analysis  # 竞品分析
      - listing_optimization # Listing 优化
    estimated_size: 40KB
    markdown_files: 11       # 已抓取 11 篇精选文章
    scraped_from: https://www.sellersprite.com/cn/blog
    scraped_date: 2025-12-26

  # Jungle Scout 博客 - Amazon 权威英文内容
  junglescout:
    tier: T2                  # MANDATORY: Raw/Exploratory Source
    name: Jungle Scout Blog Articles
    description: Jungle Scout 博客抓取的 Amazon 运营深度教程（英文权威内容）
    path: ~/data/archives/junglescout
    priority: 6
    enabled: true
    source_type: scraped_blog         # 抓取的博客内容
    processing_mode: markdown_only
    language: en                      # 英文内容
    content_types:
      - sales_strategy       # 销售策略
      - pricing_strategy     # 定价策略
      - competitor_analysis  # 竞品分析
      - market_research      # 市场研究
      - prime_day            # Prime Day 策略
    estimated_size: 140KB
    markdown_files: 13       # 已抓取 13 篇文章
    scraped_from: https://www.junglescout.com/resources/articles/
    scraped_date: 2025-12-30

  # Helium 10 博客 - Amazon PPC/SEO 权威内容
  helium10:
    tier: T2                  # MANDATORY: Raw/Exploratory Source
    name: Helium 10 Blog Articles
    description: Helium 10 博客抓取的 Amazon PPC/SEO 深度教程（英文权威内容）
    path: ~/data/archives/helium10
    priority: 7
    enabled: true
    source_type: scraped_blog
    processing_mode: markdown_only
    language: en
    content_types:
      - ppc_advertising      # PPC 广告
      - keyword_research     # 关键词研究
      - listing_optimization # Listing 优化
      - tiktok_shop          # TikTok Shop
      - seller_tools         # 卖家工具
    estimated_size: 284KB
    markdown_files: 42       # 已抓取 42 篇文章
    scraped_from: https://www.helium10.com/blog/
    scraped_date: 2025-12-30

  # Reddit r/FulfillmentByAmazon - 社区实战经验
  reddit_fba:
    tier: T2                  # MANDATORY: Raw/Exploratory Source
    name: Reddit FBA Community
    description: Reddit FBA 社区高分帖子（实战经验、问题讨论、案例分享）
    path: ~/data/archives/reddit_fba
    priority: 8
    enabled: true
    source_type: community_forum      # 社区论坛内容
    processing_mode: markdown_only
    language: en
    content_types:
      - success_story        # 成功案例
      - problem_discussion   # 问题讨论
      - strategy_sharing     # 策略分享
      - market_insight       # 市场洞察
      - tariff_discussion    # 关税讨论
    estimated_size: 232KB
    markdown_files: 30       # 已抓取 30 篇高分帖子
    scraped_from: https://old.reddit.com/r/FulfillmentByAmazon/
    scraped_date: 2025-12-30

# === 路径模板 ===
# 使用 {source} 占位符，运行时替换为实际数据源 ID
paths:
  source_template: ~/data/archives/{source}
  processed_template: ~/data/processed/{source}
  exports_template: ~/data/exports/{source}
  logs: ~/github/liye_os/_meta/logs/geo

  # 合并输出路径（当处理多个源时）
  merged_exports: ~/data/exports/_merged

# === 处理模式 ===
mode:
  # 默认模式: all=处理所有启用的源, single=只处理指定源
  default: all
  # 是否生成合并的 geo_units.json
  merge_outputs: true
  # 合并时的去重策略: none/content_hash/semantic
  dedup_strategy: content_hash

# === 处理参数 ===
processing:
  chunk_size: 600
  chunk_overlap: 100
  max_heading_level: 3
  skip_empty_chunks: true

  # 文件类型处理
  supported_formats:
    - md      # Markdown (优先处理)
    - pdf     # PDF (需要转换)
    - docx    # Word文档
    - txt     # 纯文本

  # 跳过的文件模式
  skip_patterns:
    - "*.pdf"     # 优先处理已转换的 .md，跳过原始 PDF
    - ".DS_Store"
    - "*.pyc"

# === 输出配置 ===
output:
  format: geo_unit_v0.1
  include_metadata: true
  pretty_print: true
  create_latest_symlink: true

  # 输出文件命名
  filename_pattern: "geo_units_{source}_v{version}.json"
  merged_filename: "geo_units_merged_v{version}.json"

# === 日志配置 ===
logging:
  level: INFO
  console_output: true
  filename_pattern: "geo_run_%Y%m%d_%H%M%S.log"
