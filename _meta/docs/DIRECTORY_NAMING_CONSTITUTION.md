# ç›®å½•å‘½åä¸è¯­ä¹‰å†»ç»“è§„åˆ™ï¼ˆæ¶æ„å®ªæ³•ï¼‰

**ç‰ˆæœ¬ï¼š** 1.0
**ç”Ÿæ•ˆæ—¥æœŸï¼š** 2025-12-25
**çŠ¶æ€ï¼š** âœ… å·²å†»ç»“ï¼ˆä¸å¯å˜æ›´ï¼Œåªå¯æ‰©å±•ï¼‰

---

## ä¸€ã€æ ¸å¿ƒåŸåˆ™ï¼ˆä¸å¯è¿åï¼‰

### ğŸ“œ è¯­ä¹‰åˆ†å±‚åŸåˆ™

> **OS é‡Œæ”¾çš„æ˜¯ã€Œç±»å‹ã€ï¼ˆèƒ½åŠ›å±‚ï¼‰ï¼Œä¸æ˜¯ã€Œå®ä¾‹ã€ï¼ˆå·²å­˜åœ¨çš„ä¸œè¥¿ï¼‰**

**è§£é‡Šï¼š**
- **ç±»å‹**ï¼šè¡¨ç¤ºç³»ç»Ÿå…·æœ‰æŸç§èƒ½åŠ›ï¼ˆå¦‚"èƒ½ç”Ÿäº§ç½‘ç«™"ï¼‰
- **å®ä¾‹**ï¼šè¡¨ç¤ºå…·ä½“å­˜åœ¨çš„ä¸œè¥¿ï¼ˆå¦‚"learninggithub.com"ï¼‰

**ç¤ºä¾‹ï¼š**
```
âœ… æ­£ç¡®ï¼šliye_os/websites/     â† "æˆ‘èƒ½ç”Ÿäº§ç½‘ç«™"ï¼ˆèƒ½åŠ›å£°æ˜ï¼‰
âŒ é”™è¯¯ï¼šliye_os/sites/        â† "è¿™äº›ç½‘ç«™"ï¼ˆå®ä¾‹é›†åˆï¼‰â†’ è¯­ä¹‰å€’ç½®
```

---

## äºŒã€å‘½åè¯­ä¹‰è¡¨ï¼ˆè§„èŒƒå®šä¹‰ï¼‰

### 2.1 æ ¸å¿ƒç›®å½•è¯­ä¹‰

| ç›®å½•å | è¯­ä¹‰ | å±‚çº§ | ç”¨é€” | ç¤ºä¾‹ |
|--------|------|------|------|------|
| `websites` | **ç±»å‹**ï¼ˆèƒ½ç”Ÿäº§ç½‘ç«™ï¼‰ | OS å†…éƒ¨ | æºç ã€æ¨¡æ¿ã€ç”Ÿæˆè§„åˆ™ | `liye_os/websites/` |
| `sites` | **å®ä¾‹**ï¼ˆå·²å­˜åœ¨çš„ç½‘ç«™ï¼‰ | OS å¤–éƒ¨ | å…·ä½“ç½‘ç«™é¡¹ç›® | `~/github/sites/` |
| `Systems` | **ç±»å‹**ï¼ˆç³»ç»Ÿèƒ½åŠ›ï¼‰ | OS å†…éƒ¨ | å¯æ‰§è¡Œç³»ç»Ÿ | `liye_os/Systems/geo/` |
| `tools` | **ç±»å‹**ï¼ˆå·¥å…·èƒ½åŠ›ï¼‰ | OS å†…éƒ¨ | å·¥å…·è„šæœ¬ | `liye_os/tools/` |
| `data` | **å®ä¾‹**ï¼ˆæ•°æ®æ–‡ä»¶ï¼‰ | OS å¤–éƒ¨ | æ•°æ®å­˜å‚¨ | `~/data/` |

### 2.2 æ„å»ºäº§ç‰© vs æºç 

| ç›®å½• | æ€§è´¨ | Git è¿½è¸ª | å¯åˆ é™¤é‡å»º | ç¤ºä¾‹ |
|------|------|---------|-----------|------|
| `~/websites/` | ğŸ­ æ„å»ºäº§ç‰© | âŒ ä¸è¿½è¸ª | âœ… å¯åˆ é™¤ | å·¥å‚æˆå“ä»“åº“ |
| `liye_os/websites/` | ğŸ“ æºç  | âœ… å¿…é¡»è¿½è¸ª | âŒ ä¸å¯åˆ é™¤ | å·¥ç¨‹è®¾è®¡å›¾ |
| `~/github/sites/` | ğŸ“¦ ç‹¬ç«‹ä»“åº“ | âœ… ç‹¬ç«‹è¿½è¸ª | âš ï¸ ä¿ç•™éš”ç¦» | æ—§å…¬å¸è´¦æœ¬ |

---

## ä¸‰ã€ç¦æ­¢è§„åˆ™ï¼ˆæ°¸ä¹…ç”Ÿæ•ˆï¼‰

### âŒ è§„åˆ™ 1ï¼šä¸åœ¨ OS å†…éƒ¨å‡ºç°ã€Œå®ä¾‹ã€è¯­ä¹‰

**é”™è¯¯ç¤ºä¾‹ï¼š**
```bash
~/github/liye_os/sites/           # âŒ é”™è¯¯ï¼šsites æ˜¯å®ä¾‹è¯­ä¹‰
~/github/liye_os/data/            # âŒ é”™è¯¯ï¼šdata æ˜¯å®ä¾‹è¯­ä¹‰
~/github/liye_os/projects/        # âŒ é”™è¯¯ï¼šprojects æ˜¯å®ä¾‹è¯­ä¹‰
```

**æ­£ç¡®åšæ³•ï¼š**
```bash
~/github/liye_os/websites/        # âœ… æ­£ç¡®ï¼šwebsites æ˜¯ç±»å‹è¯­ä¹‰
~/data/                           # âœ… æ­£ç¡®ï¼šå®ä¾‹æ”¾åœ¨ OS å¤–éƒ¨
~/github/sites/                   # âœ… æ­£ç¡®ï¼šå®ä¾‹ç‹¬ç«‹ä»“åº“
```

---

### âŒ è§„åˆ™ 2ï¼šä¸å‡ºç°ã€ŒåŒè¯­ä¹‰ä¸åŒå±‚çº§ã€çš„ç›®å½•

**é”™è¯¯ç¤ºä¾‹ï¼š**
```bash
~/github/liye_os/sites/           # âŒ ä¸ ~/github/sites/ å†²çª
~/github/liye_os/websites/        # åŒæ—¶å­˜åœ¨
~/sites/                          # âŒ ä¸ ~/github/sites/ å’Œ ~/websites/ æ··æ·†
```

**æ­£ç¡®åšæ³•ï¼š**
- æ¯ä¸ªè¯­ä¹‰åªåœ¨ä¸€ä¸ªå±‚çº§å‡ºç°
- é¿å…"ä¸‰ä¸ª sites ç›¸å…³ç›®å½•"çš„æƒ…å†µ

---

### âŒ è§„åˆ™ 3ï¼šä¸æŠŠæ„å»ºäº§ç‰©å¡è¿› Git

**é”™è¯¯ç¤ºä¾‹ï¼š**
```bash
# .gitignore ä¸­æ²¡æœ‰å¿½ç•¥
liye_os/websites/amazon-optimization/dist/     # âŒ æ„å»ºäº§ç‰©å…¥åº“
liye_os/websites/*/node_modules/               # âŒ ä¾èµ–å…¥åº“
```

**æ­£ç¡®åšæ³•ï¼š**
```bash
# websites/.gitignore
node_modules/
dist/
.astro/
.vercel/
*.log
```

---

## å››ã€æ ‡å‡†å·¥ä½œæµï¼ˆå¼ºåˆ¶æ‰§è¡Œï¼‰

### 4.1 æ–°å»º GEO OS ç½‘ç«™é¡¹ç›®

```bash
# 1. åœ¨æºç ç›®å½•åˆ›å»ºé¡¹ç›®
cd ~/github/liye_os/websites/
mkdir new-site
cd new-site
npm create astro@latest

# 2. é…ç½®æ„å»ºè¾“å‡ºåˆ° ~/websites/
# astro.config.mjs ä¸­è®¾ç½® outDir: ~/websites/new-site/dist/

# 3. å¼€å‘
npm run dev

# 4. æ„å»ºï¼ˆè‡ªåŠ¨è¾“å‡ºåˆ° ~/websites/new-site/dist/ï¼‰
npm run build

# 5. éƒ¨ç½²
vercel deploy --prod
```

---

### 4.2 æ›´æ–°å·²æœ‰ç½‘ç«™

```bash
# âœ… æ­£ç¡®ï¼šä¿®æ”¹æºç 
cd ~/github/liye_os/websites/existing-site/
# ä¿®æ”¹ä»£ç ...
npm run build

# âŒ é”™è¯¯ï¼šç›´æ¥ä¿®æ”¹æ„å»ºäº§ç‰©
cd ~/websites/existing-site/dist/
# ä¿®æ”¹ HTML... â† è¿™äº›æ”¹åŠ¨ä¼šåœ¨ä¸‹æ¬¡æ„å»ºæ—¶ä¸¢å¤±ï¼
```

---

## äº”ã€å†³ç­–æ ‘ï¼ˆæ–°é¡¹ç›®æ”¾å“ªé‡Œï¼Ÿï¼‰

```
æ–°é¡¹ç›®æ˜¯ GEO OS ä½“ç³»çš„å—ï¼Ÿ
â”‚
â”œâ”€ æ˜¯ GEO OS ç½‘ç«™
â”‚  â””â”€ æ”¾ ~/github/liye_os/websites/{é¡¹ç›®å}/
â”‚     â”œâ”€â”€ æºç åœ¨è¿™é‡Œ
â”‚     â””â”€â”€ æ„å»ºåˆ° ~/websites/{é¡¹ç›®å}/dist/
â”‚
â”œâ”€ æ˜¯ GEO OS ç³»ç»Ÿ
â”‚  â””â”€ æ”¾ ~/github/liye_os/Systems/{ç³»ç»Ÿå}/
â”‚
â”œâ”€ æ˜¯ GEO OS å·¥å…·
â”‚  â””â”€ æ”¾ ~/github/liye_os/tools/{å·¥å…·å}/
â”‚
â””â”€ å¦ï¼ˆç‹¬ç«‹é¡¹ç›®ï¼‰
   â”‚
   â”œâ”€ å’Œ learninggithub.com åŒç±»å‹ï¼Ÿ
   â”‚  â””â”€ æ”¾ ~/github/sites/{é¡¹ç›®å}/
   â”‚
   â””â”€ å®Œå…¨ç‹¬ç«‹é¡¹ç›®
      â””â”€ å»ºæ–°ä»“åº“ ~/github/{é¡¹ç›®å}/
```

---

## å…­ã€æ£€æŸ¥è„šæœ¬ï¼ˆè‡ªåŠ¨åŒ–ï¼‰

### 6.1 ç›®å½•ç»“æ„æ£€æŸ¥

```python
# _meta/scripts/check_directory_semantics.py
import os
from pathlib import Path

LIYE_OS = Path.home() / "github/liye_os"

# ç¦æ­¢çš„ç›®å½•ï¼ˆè¯­ä¹‰å†²çªï¼‰
FORBIDDEN = [
    LIYE_OS / "sites",           # å®ä¾‹è¯­ä¹‰ä¸èƒ½åœ¨ OS å†…
    LIYE_OS / "data",            # å®ä¾‹è¯­ä¹‰ä¸èƒ½åœ¨ OS å†…
    LIYE_OS / "projects",        # å®ä¾‹è¯­ä¹‰ä¸èƒ½åœ¨ OS å†…
]

def check():
    for path in FORBIDDEN:
        if path.exists():
            print(f"âŒ è¿åè§„åˆ™ï¼š{path} å­˜åœ¨ï¼")
            print(f"   åŸå› ï¼šå®ä¾‹è¯­ä¹‰ä¸èƒ½å‡ºç°åœ¨ OS å†…éƒ¨")
            return False

    print("âœ… ç›®å½•ç»“æ„ç¬¦åˆè¯­ä¹‰è§„åˆ™")
    return True

if __name__ == "__main__":
    exit(0 if check() else 1)
```

**é›†æˆåˆ° Git Hooksï¼š**
```bash
# .git/hooks/pre-commit
python _meta/scripts/check_directory_semantics.py || exit 1
```

---

### 6.2 æ„å»ºäº§ç‰©æ£€æŸ¥

```bash
# æ£€æŸ¥æ˜¯å¦æœ‰æ„å»ºäº§ç‰©è¢«æ„å¤–è¿½è¸ª
git ls-files | grep -E "(dist/|node_modules/|\.vercel/)" && {
    echo "âŒ é”™è¯¯ï¼šæ„å»ºäº§ç‰©è¢«è¿½è¸ªåˆ° Git"
    echo "   è¯·æ£€æŸ¥ .gitignore é…ç½®"
    exit 1
}

echo "âœ… æ— æ„å»ºäº§ç‰©è¢«è¿½è¸ª"
```

---

## ä¸ƒã€å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰

### Q1: ä¸ºä»€ä¹ˆ `~/websites/` å’Œ `liye_os/websites/` åŒåä¸å†²çªï¼Ÿ

**A:** å› ä¸ºå®ƒä»¬è¯­ä¹‰äº’è¡¥ï¼š
- `liye_os/websites/` = "æˆ‘èƒ½ç”Ÿäº§ç½‘ç«™"ï¼ˆèƒ½åŠ›å£°æ˜ï¼Œæºç ï¼‰
- `~/websites/` = "è¿™äº›æ˜¯å·²æ„å»ºçš„ç½‘ç«™"ï¼ˆäº§ç‰©å­˜æ”¾ï¼Œdist/ï¼‰
- å‰è€…æ˜¯è¾“å…¥ï¼Œåè€…æ˜¯è¾“å‡ºï¼Œå½¢æˆå®Œæ•´çš„ç”Ÿäº§é“¾æ¡

---

### Q2: ä¸ºä»€ä¹ˆä¸èƒ½åœ¨ `liye_os/` ä¸‹ç”¨ `sites`ï¼Ÿ

**A:** å› ä¸º `sites` æ˜¯å®ä¾‹è¯­ä¹‰ï¼ˆ"å·²å­˜åœ¨çš„ç½‘ç«™"ï¼‰ï¼Œè€Œ `liye_os/` æ˜¯èƒ½åŠ›å±‚ï¼ˆ"èƒ½åšä»€ä¹ˆ"ï¼‰ã€‚å¦‚æœ OS é‡Œå‡ºç°å®ä¾‹ï¼Œä¼šå¯¼è‡´ï¼š
1. è¯­ä¹‰å€’ç½®ï¼ˆOS å˜æˆ"å­˜æ”¾ç½‘ç«™çš„åœ°æ–¹"ï¼‰
2. ä¸ `~/github/sites/` æ··æ·†ï¼ˆåŒåä¸åŒå±‚çº§ï¼‰
3. æœªæ¥æ‰©å±•æ—¶æ— æ³•è‡ªæ´½

---

### Q3: å¦‚æœæˆ‘è¦å»º 100 ä¸ªç½‘ç«™ï¼Œæ€ä¹ˆåŠï¼Ÿ

**A:** å…¨éƒ¨æ”¾åœ¨ `liye_os/websites/` ä¸‹ï¼š
```bash
liye_os/websites/
â”œâ”€â”€ site-001/
â”œâ”€â”€ site-002/
â”œâ”€â”€ ...
â””â”€â”€ site-100/
```

æ„å»ºäº§ç‰©è‡ªåŠ¨è¾“å‡ºåˆ°ï¼š
```bash
~/websites/
â”œâ”€â”€ site-001/dist/
â”œâ”€â”€ site-002/dist/
â”œâ”€â”€ ...
â””â”€â”€ site-100/dist/
```

è§„åˆ™ä¸ä¼šå› ä¸ºæ•°é‡å¢åŠ è€Œæ”¹å˜ã€‚

---

## å…«ã€ä¿®è®¢è®°å½•

| ç‰ˆæœ¬ | æ—¥æœŸ | ä¿®æ”¹å†…å®¹ | ä½œè€… |
|------|------|----------|------|
| 1.0 | 2025-12-25 | åˆç‰ˆå‘å¸ƒï¼Œå®šä¹‰æ ¸å¿ƒè§„åˆ™ | Claude + User |

---

## ä¹ã€ç”Ÿæ•ˆå£°æ˜

æœ¬å®ªæ³•è‡ªå‘å¸ƒä¹‹æ—¥èµ·ç«‹å³ç”Ÿæ•ˆï¼Œé€‚ç”¨äºï¼š
1. âœ… æ‰€æœ‰æ–°å»ºé¡¹ç›®
2. âœ… æ‰€æœ‰ç°æœ‰é¡¹ç›®çš„æœªæ¥ä¿®æ”¹
3. âš ï¸ ç°æœ‰é—ç•™ç›®å½•ï¼ˆä¿ç•™ä½†ä¸æ‰©å±•ï¼‰

**è¿åæœ¬å®ªæ³•çš„ä»£ç æäº¤å°†è¢« Git Hooks è‡ªåŠ¨é˜»æ­¢ã€‚**

---

**ç­¾ç½²ï¼š** LiYe OS æ¶æ„å§”å‘˜ä¼š
**æ—¥æœŸï¼š** 2025-12-25
**çŠ¶æ€ï¼š** ğŸ”’ å·²å†»ç»“
